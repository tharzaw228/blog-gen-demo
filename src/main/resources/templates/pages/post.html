<!DOCTYPE html>
<html  th:replace="~{layout/masterLayout :: layout(~{::main})}" xmlns:th="http://www.thymeleaf.org">

<body>
<main role="main">
  <div class="py-3 bg-primary text-white">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1><i class="fas fa-pencil-alt me-2"></i>Posts</h1>
        </div>
      </div>
    </div>
  </div>
  <section class="bg-light py-5 mb-3">
    <div class="container">
      <div class="row">
        <div class="offset-md-6 col-md-6">
          <div class="input-group">
            <input type="text" class="form-control" name="" id="">
            <a href="#" class="btn btn-primary">Search</a>
          </div>
        </div>

      </div>
    </div>
  </section>

  <div class="container">
    <div class="row">
      <div class="col-md-4" th:each=" post : ${posts}">
        <div class="card">
          <div class="card-header">
            <h4 th:text="${post.title}"></h4>
            <small class="text-muted">Create By -</small><strong th:text="${post.user.name}"></strong>
            <small class="text-muted">Date - </small><strong th:text="${post.datePosted}"></strong>
          </div>
          <div class="card-body">
            <p th:text="${(post.body.length() >= 100) ? #strings.substring(post.body, 0, 100) : post.body}" class="card-text"></p>


          </div>
          <div class="card-footer">
            <small class="text-muted">Category - </small><strong th:text="${post.category.title}"></strong>
            <a th:href="@{'/post-update?id=' + ${post.id}}" class="btn btn-primary">Update</a>
            <a th:href="@{'/post-delete?id=' + ${post.id}}" class="btn btn-danger">Delete</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
</body>
</html>